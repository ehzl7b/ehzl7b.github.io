---
const { id, left, right } = Astro.props;
---

<label>
    <div class="left">{left}</div>
    <div class="switch">
        <div class="bar"></div>
        <div class="btn"></div>
    </div>
    <div class="right">{right}</div>
</label>

<script define:vars={{ id }}>
    "use strict";
    const $bar = document.querySelector(`#${id}`);
    $bar.onclick = function(e) {
        console.log(`${id} clicked`);
    };
</script>

<style lang="scss">
    label {
        position: relative; height: 1.5rem; width: 4rem;
        display: block;
        cursor: pointer; overflow: hidden;

        & > div {
            position: absolute; top: 0;
        }
        
        .left {
            left: 0; height: 1rem; width: 1rem;
        }
        .switch {
            position: relative;
            left: 1rem; height: 100%; width: 2rem;
            display: flex; align-items: center;
            .bar {
                height: 0.5rem; width: 100%;
                background: var(--bg-sub); border-radius: 9999px;
            }
            .btn {
                position: absolute; height: 1rem; width: 1rem;
                background: var(--fg-sub); border-radius: 9999px;
            }
        }
        .right {
            left: 3rem; height: 1rem; width: 1rem;
        }
    }
</style>